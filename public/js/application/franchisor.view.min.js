$(document).ready(function() {
    $("#owl-carousel-1").owlCarousel({
        autoplay: !0,
        nav: !0,
        navText: ['<div class="grid-arrow arrow-left"><i class="fa fa-arrow-left"></i></div>', '<div class="grid-arrow arrow-right"><i class="fa fa-arrow-right"></i></div>'],
        autoplayTimeout: 5000,
        autoplayHoverPause: !0,
        margin: 0,
        items: 3,
        loop: !0,
        responsiveClass: !0,
        responsive: {
            0: {
                items: 1,
                nav: !0
            },
            768: {
                items: 3,
                nav: !0,
                loop: !0
            },
            1024: {
                items: 3,
                nav: !0,
                loop: !0
            }
        }
    });
    $("#owl-carousel-4").owlCarousel({
        autoplay: !0,
        nav: !0,
        navText: ['<div class="grid-arrow arrow-left"><i class="fa fa-arrow-left"></i></div>', '<div class="grid-arrow arrow-right"><i class="fa fa-arrow-right"></i></div>'],
        autoplayTimeout: 5000,
        autoplayHoverPause: !0,
        margin: 10,
        items: 2,
        loop: !0
    });
    $('.click-comment').click(function() {
        $('.tab-pane').removeClass('active');
        $('#tab-5').addClass('active');
        $('.nav-tabs li').removeClass('active');
        $('.nav-tabs li a').removeAttr('aria-expanded');
        $('a[aria-controls="tab-5"]').parent('li').addClass('active').attr('aria-expanded', !0)
    });
    $("#iState").on('change', function() {
        $("#iCity").html("<option value=''>City</option>");
        $.post("/DSIXSUQaGF", {
            'state_id': $(this).val(),
            'action': 'fetchCities'
        }).then(function(_data) {
            _data = JSON.parse(_data);
            if (_data) {
                if (_data.status == "FRS00") {
                    if (_data.data) {
                        var stateInnerHTML = "";
                        $.each(_data.data, function(idx, val) {
                            stateInnerHTML += '<option value="' + val.id + '">' + val.name + '</option>'
                        });
                        $("#iCity").append(stateInnerHTML).removeAttr('disabled')
                    } else {
                        $("#seek_city_footer_error").html("System is not able to process your request. (FR30)").show()
                    }
                } else {
                    $("#seek_city_footer_error").html(_data.data + " (" + _data.status + ")").show()
                }
            } else {
                $("#seek_city_footer_error").html("System is not able to process your request. (FR20)").show()
            }
        }, function(_error) {
            $("#seek_city_footer_error").html("System is not able to process your request. (FR10)").show()
        })
    });
    $('button[relation="submit-comment"]').click(function() {
        $("#franchisor-comment-form").validate({
            errorClass: 'validation-error-container bottom',
            errorElement: "em",
            debug: !1,
            rules: {
                franchisor_rating: {
                    required: !0
                },
                franchisor_comment: {
                    required: !0,
                    minlength: 2,
                    maxlength: 500
                }
            },
            messages: {
                franchisor_rating: {
                    required: "Please rate the franchisor"
                },
                franchisor_comment: {
                    required: "Sorry!! We cannot take empty comments",
                    minlength: jQuery.validator.format("Comment should be at least {0} characters long"),
                    maxlength: jQuery.validator.format("Max characters allowed: {0}")
                }
            },
            submitHandler: function(form) {
                $('#franchisor-comment-form .spinner').show();
                $.post("/aCaOsQR4yt", $(form).serialize()).then(function(_data) {
                    _data = JSON.parse(_data);
                    if (_data) {
                        if (_data.status == 'FRFV00') {
                            window.location.reload()
                        } else {
                            $("#franchisor-comment-form .error-message").html(_data.data + " (" + _data.status + ")").show();
                            $('#franchisor-comment-form .spinner').hide()
                        }
                    } else {
                        $("#franchisor-comment-form .error-message").html("System is not able to process your request. (FR20)").show();
                        $('#franchisor-comment-form .spinner').hide()
                    }
                }, function(_error) {
                    $('#franchisor-comment-form .spinner').hide();
                    $("#franchisor-comment-form .error-message").html("System is not able to process your request. (FR10)").show()
                })
            }
        })
    });
    $('a[relation="like-proceed"]').click(function() {
        $.post("/aCaOsQR4yt", $("#franchisor-like-form").serialize()).then(function(_data) {
            _data = JSON.parse(_data);
            if (_data) {
                if (_data.status == 'FRFV00') {
                    if ($('#franchisor-like-form input[name="action"]').val() == 'addLike') {
                        $('#franchisor-like-form input[name="action"]').val('updateLike');
                        $('<input type="hidden" name="franchisor_like_id" value="' + _data.data.id + '" /> <input type="hidden" name="like_value" value="unlike" />').insertAfter('#franchisor-like-form input[name="action"]');
                        $('a[relation="like-proceed"]').html('<i class="fa fa-heart" aria-hidden="true"></i> Like (' + _data.data.likeCount + ')')
                    } else {
                        if ($('#franchisor-like-form input[name="like_value"]').val() == "like") {
                            $('#franchisor-like-form input[name="like_value"]').val('unlike');
                            $('a[relation="like-proceed"]').html('<i class="fa fa-heart" aria-hidden="true"></i> Like (' + _data.data.likeCount + ')')
                        } else {
                            $('#franchisor-like-form input[name="like_value"]').val('like');
                            $('a[relation="like-proceed"]').html('<i class="fa fa-heart-o" aria-hidden="true"></i> Like (' + _data.data.likeCount + ')')
                        }
                    }
                } else {
                    $("#blog-like-form .error-message").html(_data.data + " (" + _data.status + ")").show()
                }
            } else {
                $("#blog-like-form .error-message").html("System is not able to process your request. (FR20)").show()
            }
        }, function(_error) {
            $("#blog-like-form .error-message").html("System is not able to process your request. (FR10)").show()
        })
    });
    $("button[relation='submit-request']").on('click', function() {
        $("#request-info-form").validate({
            errorClass: 'validation-error-container bottom',
            errorElement: "em",
            rules: {
                message_text: {
                    maxlength: 500,
                    minlength: 5
                }
            },
            messages: {
                message_text: {
                    maxlength: jQuery.validator.format("Maximum characters allowed: {0}"),
                    minlength: jQuery.validator.format("Description should be at least {0} characters long")
                }
            },
            submitHandler: function(form) {
                $('#request-info-form .spinner').show();
                $("#request-info-form .success-message, #request-info-form .error-message").hide();
                $.post("/aCaOsQR4yt", $(form).serialize()).then(function(_data) {
                    _data = JSON.parse(_data);
                    if (_data) {
                        if (_data.status == 'FRFV00') {
                            $("#request-info-form").hide();
                            $("#request-info-form + .success-message").show()
                        } else {
                            $("#request-info-form .error-message").html(_data.data + " (" + _data.status + ")").show()
                        }
                    } else {
                        $("#request-info-form .error-message").html("System is not able to process your request. (FR20)").show()
                    }
                    grecaptcha.reset();
                    $('#request-info-form .spinner').hide()
                }, function(_error) {
                    $('#request-info-form .spinner').hide();
                    $("#request-info-form .error-message").html("System is not able to process your request. (FR10)").show();
                    grecaptcha.reset()
                })
            }
        })
    });
    $("button[relation='i-connect-form']").on('click', function() {
        $("#industry-quick-connect-form").validate({
            errorClass: 'validation-error-container bottom',
            errorElement: "em",
            rules: {
                ufName: {
                    required: !0,
                    maxlength: 200,
                    minlength: 2
                },
                ulName: {
                    required: !0,
                    maxlength: 200,
                    minlength: 2
                },
                contactNumber: {
                    required: !0,
                    digits: !0,
                    maxlength: 10,
                    minlength: 10
                },
                uEmail: {
                    required: !0,
                    email: !0,
                    minlength: 2,
                    maxlength: 200
                },
                uRequirement: {
                    required: !0
                },
                uSeek: {
                    required: !0
                },
                uInvestments: {
                    required: !0
                },
                'uCategory[]': {
                    required: function(element) {
                        return ($('#uSeek').val() != '')
                    }
                },
                seek_country_footer: {
                    required: !0
                },
                seek_state_footer: {
                    required: !0
                },
                seek_city_footer: {
                    required: !0
                },
                uMessage: {
                    required: !0,
                    minlength: 2,
                    maxlength: 500
                }
            },
            messages: {
                ufName: {
                    required: "Please enter your first name",
                    maxlength: jQuery.validator.format("Maximum characters allowed: {0}"),
                    minlength: jQuery.validator.format("First Name should be at least {0} characters long")
                },
                ulName: {
                    required: "Please enter your last name",
                    maxlength: jQuery.validator.format("Maximum characters allowed: {0}"),
                    minlength: jQuery.validator.format("Last Name should be at least {0} characters long")
                },
                contactNumber: {
                    required: "Please enter your contact number",
                    digits: "Only Numeric are allowed",
                    maxlength: jQuery.validator.format("Maximum characters allowed: {0}"),
                    minlength: jQuery.validator.format("Contact Number should be at least {0} characters long")
                },
                uEmail: {
                    required: "Please enter your email",
                    email: "Your email address must be in the format of name@domain.com",
                    maxlength: jQuery.validator.format("Maximum characters allowed: {0}"),
                    minlength: jQuery.validator.format("Email should be at least {0} characters long")
                },
                uRequirement: {
                    required: "Please select an option"
                },
                uSeek: {
                    required: "Please select an option"
                },
                uInvestments: {
                    required: "Please select an option"
                },
                'uCategory[]': {
                    required: "Please select atleast one option"
                },
                seek_country_footer: {
                    required: "Please select an option"
                },
                seek_state_footer: {
                    required: "Please select an option"
                },
                seek_city_footer: {
                    required: "Please select an option"
                },
                uMessage: {
                    required: "Please enter your message",
                    maxlength: jQuery.validator.format("Maximum characters allowed: {0}"),
                    minlength: jQuery.validator.format("Message should be at least {0} characters long")
                }
            },
            submitHandler: function(form) {
                $("#industry-quick-connect-form .spinner").show();
                $("#industry-quick-connect-form .success-message, #industry-quick-connect-form .error-message").hide();
                $.post("/Nxm2ps6ixs", $(form).serialize()).then(function(_data) {
                    _data = JSON.parse(_data);
                    if (_data) {
                        if (_data.status == 'FRC00') {
                            $("#industry-quick-connect-form .success-message").html("<p>Hey, thanks for reaching us out. Your request has been logged and will be processed further.</p>").show()
                        } else if (_data.status == 'FRER00') {
                            $("#industry-quick-connect-form .success-message").html("<p>Congratulations! Your request has been logged. Also, you have been registered with FranchiseBazar as a Business Seeker</p><p>We have sent an email to your registered mail address for verification along with your account password.</p>").show()
                        } else {
                            $("#industry-quick-connect-form .error-message").html(_data.data + " (" + _data.status + ")").show()
                        }
                    } else {
                        $("#industry-quick-connect-form .error-message").html("System is not able to process your request. (FR20)").show()
                    }
                    $("#industry-quick-connect-form .spinner").hide();
                    grecaptcha.reset(businessConnectReCaptchaWidgetId)
                }, function(_error) {
                    $('#industry-quick-connect-form .spinner').hide();
                    $("#industry-quick-connect-form .error-message").html("System is not able to process your request. (FR10)").show();
                    grecaptcha.reset(businessConnectReCaptchaWidgetId)
                })
            }
        })
    })
})